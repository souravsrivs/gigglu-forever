<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gigglu ‚ù§Ô∏è Forever</title>

<style>
*{touch-action:manipulation;}

body{
margin:0;
overflow:hidden;
background:black;
font-family:Arial,sans-serif;
color:white;
text-align:center;
}

/* Galaxy */
canvas{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
z-index:0;
pointer-events:none;
}

/* Section */
.section{
position:relative;
width:100%;
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:10;
}

#mainSection{z-index:20;}

/* Buttons */
button{
padding:12px 25px;
border-radius:30px;
border:none;
font-size:16px;
cursor:pointer;
margin:10px;
background:#ff2e63;
color:white;
transition:0.3s;
}

/* YES glow */
@keyframes glowYes{
0%{box-shadow:0 0 10px #ff2e63;}
100%{box-shadow:0 0 40px #ff2e63,0 0 80px #ff2e63;}
}
.glow{
animation:glowYes 1s infinite alternate;
transform:scale(1.3);
}

/* Shake */
@keyframes shake{
0%{transform:translate(0);}
20%{transform:translate(-10px,5px);}
40%{transform:translate(10px,-5px);}
60%{transform:translate(-10px,5px);}
80%{transform:translate(10px,-5px);}
100%{transform:translate(0);}
}
.shake{animation:shake 0.5s;}

/* Shatter */
@keyframes shatter{
0%{transform:scale(1);opacity:1;}
100%{transform:scale(0) rotate(45deg);opacity:0;}
}
.shatter{animation:shatter 0.6s forwards;}

/* Funny message */
#noMessage{
position:absolute;
top:65%;
left:50%;
transform:translateX(-50%);
font-size:20px;
font-weight:bold;
opacity:0;
transition:opacity 0.3s;
z-index:25;
}

/* Photos */
.photo{
position:absolute;
width:110px;
height:110px;
object-fit:cover;
border-radius:12px;
transition:all 0.4s ease;
z-index:5;
}
.dim{opacity:0.15 !important;}
.zoom{
transform:scale(2.5);
z-index:100 !important;
box-shadow:0 0 40px white;
}

/* Diamond */
#diamondContainer{
position:absolute;
top:50%;
left:50%;
transform:translate(-50%,-50%);
width:160px;
height:160px;
z-index:6;
display:none;
pointer-events:none;
}
.diamond{
width:150px;
height:150px;
background:linear-gradient(145deg,#ffffff,#cfcfff);
clip-path:polygon(50% 0%,100% 35%,80% 100%,20% 100%,0% 35%);
animation:spin 6s linear infinite;
}
@keyframes spin{
0%{transform:rotateY(0deg) rotateX(0deg);}
100%{transform:rotateY(360deg) rotateX(360deg);}
}

/* Journey */
#journey{
position:absolute;
top:40%;
left:40%;
width:85%;
max-width:600px;
padding:25px;
font-size:17px;
line-height:1.8;
display:none;
z-index:30;
opacity:0;
transition:opacity 1.5s ease;
background:rgba(0,0,0,0.75);
border-radius:20px;
cursor:grab;
}

/* Counter */
#counter{
position:absolute;
bottom:20px;
width:100%;
font-size:18px;
z-index:30;
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<div class="section" id="mainSection">
<h1>Will You Be My Valentine, Gigglu? ‚ù§Ô∏è</h1>
<button id="yesBtn">YES üíò</button>
<button id="noBtn">No üòí</button>
<div id="noMessage"></div>
</div>

<div id="diamondContainer">
<div class="diamond"></div>
</div>

<div id="journey">
<h2>Our Journey ‚ù§Ô∏è</h2>
<p id="journeyText"></p>
</div>

<div id="counter"></div>

<audio id="music">
<source src="romantic.mp3" type="audio/mp3">
</audio>

<audio id="crackSound">
<source src="https://www.soundjay.com/glass/glass-break-01.mp3" type="audio/mp3">
</audio>

<script>

/* Galaxy */
const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];
for(let i=0;i<400;i++){
stars.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,r:Math.random()*2,s:Math.random()*0.3+0.1});
}
function animateStars(){
ctx.clearRect(0,0,canvas.width,canvas.height);
ctx.fillStyle="white";
stars.forEach(st=>{
ctx.beginPath();
ctx.arc(st.x,st.y,st.r,0,Math.PI*2);
ctx.fill();
st.y+=st.s;
if(st.y>canvas.height) st.y=0;
});
requestAnimationFrame(animateStars);
}
animateStars();

/* YES */
yesBtn.onclick=()=>{
mainSection.style.display="none";
music.play();
launchPhotos();
diamondContainer.style.display="block";
showJourney();
startCounter();
confetti();
};

/* Confetti */
function confetti(){
for(let i=0;i<150;i++){
let c=document.createElement("div");
c.style.position="fixed";
c.style.width="6px";
c.style.height="6px";
c.style.background=["#ff2e63","#fff","#ffcc00"][Math.floor(Math.random()*3)];
c.style.left=Math.random()*100+"vw";
c.style.top=Math.random()*100+"vh";
c.style.zIndex="200";
document.body.appendChild(c);
c.animate([{transform:"translateY(0)",opacity:1},{transform:"translateY(200px)",opacity:0}],{duration:1500});
setTimeout(()=>c.remove(),1500);
}
}

/* Launch Photos */
function launchPhotos(){
for(let i=1;i<=38;i++){
let img=document.createElement("img");
img.src="photo"+i+".jpg";
img.classList.add("photo");
document.body.appendChild(img);
img.ontouchstart=()=>focus(img);
img.ontouchend=reset;
img.onmouseenter=()=>focus(img);
img.onmouseleave=reset;
}
setTimeout(arrangePhotos,500);
}

function arrangePhotos(){
let photos=document.querySelectorAll(".photo");
let cols=6;
let spacingX=window.innerWidth/cols;
let spacingY=window.innerHeight/7;
photos.forEach((img,i)=>{
img.style.left=(i%cols)*spacingX+"px";
img.style.top=Math.floor(i/cols)*spacingY+"px";
});
}

function focus(sel){
document.querySelectorAll(".photo").forEach(p=>{if(p!==sel)p.classList.add("dim");});
sel.classList.add("zoom");
}
function reset(){
document.querySelectorAll(".photo").forEach(p=>p.classList.remove("dim","zoom"));
}

/* Smooth Typewriter Journey */
function showJourney(){
journey.style.display="block";
journeyText.innerHTML="";
setTimeout(()=>journey.style.opacity="1",100);

const text=`Jan 1, 2023 ‚Äî The day everything began. ‚ù§Ô∏è

Through long distance, busy schedules, stress, interference and chaos ‚Äî
we still chose each other.

And today‚Ä¶ I still choose you.
Forever. ‚ôæÔ∏è‚ù§Ô∏è`;

let i=0;
function type(){
if(i<text.length){
let char=text.charAt(i);
if(char=="\n"){journeyText.innerHTML+="<br>";}
else{journeyText.innerHTML+=char;}
i++;
setTimeout(type,25);
}
}
type();
}

/* Counter */
function startCounter(){
const startDate=new Date("Jan 1, 2023 00:00:00").getTime();
setInterval(()=>{
let diff=new Date().getTime()-startDate;
counter.innerHTML=Math.floor(diff/1000)+" seconds together ‚ù§Ô∏è";
},1000);
}

</script>

</body>
</html>
